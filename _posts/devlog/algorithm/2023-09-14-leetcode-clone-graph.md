---
layout: post
title: "[LeetCode] 133. Clone Graph"
subtitle: "algorithm"
categories: devlog
tags: algorithm graph
---

> LeetCode Top Interview 150ì˜ 133ë²ˆ ë¬¸ì œì…ë‹ˆë‹¤.

<!--more-->

ğŸ“š ëª©ì°¨
- [ğŸŒ± Clone Graph](#-clone-graph)
  - [ğŸŸ¤ ë¬¸ì œ ì •ì˜ - Definition](#-ë¬¸ì œ-ìš”ì•½-definition)
  - [ğŸŸ¤ ë¬¸ì œ í’€ì´ ì „ëµ ì¶”ìƒí™” - Abstraction](#-ë¬¸ì œ-í’€ì´-ì „ëµ-ì¶”ìƒí™”-abstraction)
  - [ğŸŸ¤ ë¬¸ì œ í’€ì´ - Algorithm](#-ë¬¸ì œ-í’€ì´-algorithm)

----

## ğŸŒ± [Clone Graph](https://leetcode.com/problems/clone-graph/?envType=study-plan-v2&envId=top-interview-150)

### ğŸŸ¤ ë¬¸ì œ ì •ì˜ (Definition)

- íŒŒë¼ë¯¸í„°ë¡œ Graph ìë£Œêµ¬ì¡° íŠ¹ì§•ì„ ê°€ì§„ ë…¸ë“œê°€ ì£¼ì–´ì§„ë‹¤.
- ê°„ë‹¨í•˜ê²Œ ë¬¸ì œë¥¼ ìš”ì•½í•˜ë©´, ì£¼ì–´ì§„ graph ìë£Œêµ¬ì¡° ë…¸ë“œë¥¼ deep copyí•˜ì—¬ ë°˜í™˜í•˜ëŠ” ê²ƒì´ë‹¤.


- ì¡°ê±´
  - The number of nodes in the graph is in the range [0, 100].
  - 1 <= Node.val <= 100
  - Node.val is unique for each node.
  - There are no repeated edges and no self-loops in the graph.
  - The Graph is connected and all nodes can be visited starting from the given node.

---

### ğŸŸ¤ ë¬¸ì œ í’€ì´ ì „ëµ ì¶”ìƒí™” (Abstraction)

ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ì „ì— deep copyê°€ ë¬´ì—‡ì¸ì§€ ì•Œì•„ì•¼í•œë‹¤.

deep copyëŠ” ë°ì´í„°ì˜ ë¬´ê²°ì„±ì„ ìœ„í•´ ìì£¼ ì‚¬ìš©ë˜ëŠ” ê°œë…ì´ë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ê°™ì€ ì°¸ì¡° ìë£Œí˜• ë°ì´í„°ëŠ” Heap ë©”ëª¨ë¦¬ì— ì €ì¥ë˜ì–´ ë³€ìˆ˜ì— í• ë‹¹ëœë‹¤.
 
JavaëŠ” ê¸°ë³¸ì ìœ¼ë¡œ call by value ë°©ì‹ìœ¼ë¡œ ê¸°ë³¸í˜• ë°ì´í„°ì™€ ì°¸ì¡°í˜• ë°ì´í„°ë¥¼ ì €ì¥í•œë‹¤. í•˜ì§€ë§Œ ì°¸ì¡°í˜• ë°ì´í„°ë¥¼ ë‹¤ë¥¸ ë³€ìˆ˜ì— ë³„ë„ì˜ ì²˜ë¦¬ì—†ì´ í• ë‹¹ë  ê²½ìš°ì—ëŠ” Heap ë©”ëª¨ë¦¬ì— ì €ì¥ëœ 
ì°¸ì¡°í˜• ë°ì´í„°ì˜ ì£¼ì†Œë¥¼ ë‹¤ë¥¸ ë³€ìˆ˜ì— í• ë‹¹í•˜ê¸° ë•Œë¬¸ì— call by referenceê°™ì€ í˜„ìƒì´ ì¼ì–´ë‚œë‹¤. ì¦‰, ë‹¤ë¥¸ ë‘ê°œì˜ ë³€ìˆ˜ê°€ í•˜ë‚˜ì˜ ë°ì´í„° ì£¼ì†Œë¥¼ ë°”ë¼ë³´ê³  ìˆëŠ” ê²ƒì²˜ëŸ¼ 
ì²˜ë¦¬ë˜ê¸° ë•Œë¬¸ì— í•˜ë‚˜ì˜ ë³€ìˆ˜ì— í• ë‹¹ëœ ì°¸ì¡°í˜• ë°ì´í„°ë¥¼ ìˆ˜ì •í•˜ë©´ í•´ë‹¹ ë°ì´í„°ë¥¼ í• ë‹¹ë°›ê³  ìˆëŠ” ë‹¤ë¥¸ ë³€ìˆ˜ì—ë„ ì˜í–¥ì„ ë°›ëŠ”ë‹¤. ì´ ê°œë…ì´ shallow copy(ì–•ì€ ë³µì‚¬)ì´ë‹¤.
 
ì–•ì€ ë³µì‚¬ëŠ” ë°ì´í„°ë¥¼ ë³€ìˆ˜ì— í• ë‹¹í•˜ê¸°ì— ì•„ì£¼ ê°„ë‹¨í•˜ì§€ë§Œ, ë°ì´í„°ì˜ ë¬´ê²°ì„±ì„ ì§€í‚¤ê¸° ì–´ë ¤ì›Œ ì—ëŸ¬ë¥¼ ìœ ë°œí•˜ëŠ” ì›ì¸ì´ ë˜ê¸°ë„ í•œë‹¤. ì´ë¥¼ ë°©ì§€í•˜ê³ ì deep copyë¼ëŠ” 
ê°œë…ì„ í™œìš©í•´ì•¼í•œë‹¤. deep copyëŠ” ì°¸ì¡°í˜• ë°ì´í„°ì˜ ë…¼ë¦¬ì  ê°’ì€ ì¼ì¹˜í•˜ì§€ë§Œ ë¬¼ë¦¬ì ìœ¼ë¡œ ì €ì¥ëœ ë©”ëª¨ë¦¬ ì£¼ì†Œì˜ ìœ„ì¹˜ëŠ” ë‹¤ë¥´ê²Œí•¨ì„ ì˜ë¯¸í•œë‹¤.

deep copy ê°œë…ì„ ì‚¬ìš©í•˜ì—¬ ì°¸ì¡°í˜• ë°ì´í„°ë¥¼ ë‹¤ë¥¸ ë³€ìˆ˜ì— í• ë‹¹í•˜ë©´ ë‘ ì¸ìŠ¤í„´ìŠ¤ëŠ” ë³„ê°œì˜ ì£¼ì†Œì— ì €ì¥ë˜ê¸° ë•Œë¬¸ì— ì„œë¡œì—ê²Œ ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ”ë‹¤. ì´ë¥¼ í†µí•´ ë°ì´í„°ì˜ ë¬´ê²°ì„±ì„ 
ì§€í‚¬ ìˆ˜ ìˆë‹¤.

> â—ï¸ë‹¨, ì—¬ê¸°ì„œ ì£¼ì˜í•´ì•¼í•  ì ì´ ìˆë‹¤. ë°”ë¡œ ì°¸ì¡°í˜• ë°ì´í„° ì•ˆì— ë˜ ë‹¤ë¥¸ ì°¸ì¡°í˜• ë°ì´í„°ê°€ ë©¤ë²„ ë³€ìˆ˜, í•„ë“œë¡œ ìˆëŠ” ê²½ìš°ì´ë‹¤. ì´ ê²½ìš°ì—ë„ ì°¸ì¡°í˜• ë°ì´í„° ì•ˆì— ìˆëŠ” ë˜ë‹¤ë¥¸ 
ì°¸ì¡°í˜• ë³€ìˆ˜ë¥¼ deep copyí•´ì£¼ì–´ì•¼ deep copyë¼ëŠ” ê°œë…ì´ ì˜¨ì „íˆ ì„±ëŸ½ë  ìˆ˜ ìˆë‹¤.

...

ë¬¸ì œì—ì„œ ìš”êµ¬í•˜ëŠ” ê²ƒì€ íŒŒë¼ë¯¸í„°ë¡œ ì£¼ì–´ì§„ graph ìë£Œêµ¬ì¡°ì˜ ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ deep copyí•˜ì—¬ ë°˜í™˜í•˜ëŠ” ê²ƒì´ë‹¤. graph êµ¬ì¡° ë°ì´í„°ì˜ íŠ¹ì§•ì€ í•˜ë‚˜ì˜ ì°¸ì¡°í˜• ë°ì´í„° ì•ˆì— 
ë˜ ë‹¤ë¥¸ ì°¸ì¡°í˜• ë°ì´í„°ê°€ ìˆê³ , ì´ëŸ¬í•œ í˜•íƒœê°€ ë°˜ë³µì ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ìˆë‹¤.

ê·¸ë ‡ê¸° ë•Œë¬¸ì— 2ê°€ì§€ê°€ í•„ìš”í•˜ë‹¤. ë°”ë¡œ ì°¸ì¡°í˜• ë°ì´í„°ê°€ ì–´ë””ê¹Œì§€ ì—°ì†ì ìœ¼ë¡œ í•˜ìœ„ ë©¤ë²„ ë³€ìˆ˜ë¡œ í• ë‹¹ë˜ì–´ ìˆëŠ”ì§€ íƒìƒ‰í•˜ê³  ê° ë…¸ë“œë¥¼ deep copyí•˜ì—¬ ë°˜í™˜í•  ë…¸ë“œì˜ childë…¸ë“œë¡œ 
ì¶”ê°€ì‹œí‚¤ëŠ” ì‘ì—…! ì´ ì‘ì—…ì„ ìœ„í•´ dfsë¼ëŠ” ë°©ë²•ì„ ì‚¬ìš©í•œë‹¤. ë˜í•œ, ì¡°ê±´ìœ¼ë¡œ ì£¼ì–´ì§„ ê° ë…¸ë“œì˜ valê°’ì€ ìœ ë‹ˆí¬í•˜ê¸° ë•Œë¬¸ì— valê°’ì„ ìºì‹±í•˜ì—¬ í•´ë‹¹ valê³¼ ì—°ê²°ë˜ì–´ ìˆëŠ” 
ë˜ë‹¤ë¥¸ ë…¸ë“œì™€ ì—°ê²°ì‹œí‚¤ê¸° ìœ„í•´ ê° valë“¤ì„ ë‹´ì€ deep copyëœ ë…¸ë“œë“¤ì„ ìºì‹±í•  ë°°ì—´ ìë£Œêµ¬ì¡°ê°€ í•„ìš”í•˜ë‹¤.

> ğŸ¥• í•´ë‹¹ ë¬¸ì œì˜ ì‹œê°„ë³µì¡ë„ëŠ” O(N)ì´ë‹¤. dfsë¥¼ ì‚¬ìš©í•´ ëª¨ë“  ë…¸ë“œë“¤ì„ ë°©ë¬¸í•˜ë©° deep copyí•  ìƒˆë¡œìš´ ë…¸ë“œì— ì¶”ê°€ì‹œì¼œì•¼í•˜ê¸° ë•Œë¬¸ì´ë‹¤.
> 
> ğŸ¥• ê³µê°„ë³µì¡ë„ë¡œëŠ” O(N + 100) => O(N)ì´ ëœë‹¤. O(100)ì€ ì¡°ê±´ìœ¼ë¡œ ì£¼ì–´ì§„ `0 <= val <= 100`ì„ í†µí•´ ë…¸ë“œë¥¼ ìºì‹±í•  ë°°ì—´ì´ë‹¤. ë˜í•œ, DFSëŠ” 
> ì¬ê·€í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ë§ˆì¹˜ stackê³¼ ê°™ì€ ë°©ë²•ìœ¼ë¡œ íƒìƒ‰í•˜ê¸° ë•Œë¬¸ì— ì£¼ì–´ì§„ ëª¨ë“  ë…¸ë“œê°€ Nì¼ ê²½ìš° O(N)ì˜ ê³µê°„ì´ í•„ìš”í•˜ë‹¤.


---

### ğŸŸ¤ ë¬¸ì œ í’€ì´ (Algorithm)

```java
class Solution {
	public Node cloneGraph(Node node) {
		if (node == null) return node;

		Node[] isVisit = new Node[101];
		Node answer = new Node(node.val);

		dfs(node, answer, isVisit);

		return answer;
	}

	public void dfs(Node node, Node answer, Node[] isVisit) {
        isVisit[answer.val] = answer;
        
        for(int i = 0; i < node.neighbors.size(); i++) {
            Node n = node.neighbors.get(i);

            if(isVisit[n.val] == null) {
                Node newNode = new Node(n.val);

                answer.neighbors.add(newNode);

                dfs(n , newNode , isVisit);
            } else {
                answer.neighbors.add(isVisit[n.val]);
            }
        }
	}
}
```

---
