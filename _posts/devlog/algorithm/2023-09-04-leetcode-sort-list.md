---
layout: post
title: "[LeetCode] 148. Sort List"
subtitle: "algorithm"
categories: devlog
tags: algorithm sort
---

> LeetCode Top Interview 150ì˜ 148ë²ˆ ë¬¸ì œì…ë‹ˆë‹¤.

<!--more-->

ğŸ“š ëª©ì°¨
- [ğŸŒ± Sort List](#-sort-list)
  - [ğŸŸ¤ ë¬¸ì œ ì •ì˜ - Definition](#-ë¬¸ì œ-ìš”ì•½-definition)
  - [ğŸŸ¤ ë¬¸ì œ í’€ì´ ì „ëµ ì¶”ìƒí™” - Abstraction](#-ë¬¸ì œ-í’€ì´-ì „ëµ-ì¶”ìƒí™”-abstraction)
  - [ğŸŸ¤ ë¬¸ì œ í’€ì´ - Algorithm](#-ë¬¸ì œ-í’€ì´-algorithm)

- [ğŸŒ± í’€ì´ ê°œì„ ](#-í’€ì´-ê°œì„ )

----

## ğŸŒ± [Sort List](https://leetcode.com/problems/sort-list/?envType=study-plan-v2&envId=top-interview-150)

### ğŸŸ¤ ë¬¸ì œ ì •ì˜ (Definition)

- íŒŒë¼ë¯¸í„°ë¡œ ë§í¬ë“œë¦¬ìŠ¤íŠ¸ ë…¸ë“œ í•˜ë‚˜ê°€ ì£¼ì–´ì§„ë‹¤.
- ì´ ë§í¬ë“œë¦¬ìŠ¤íŠ¸ëŠ” ìˆ«ìê°’ì´ val í•„ë“œì— ë¬´ì‘ìœ„ë¡œ ì €ì¥ë˜ì–´ ìˆë‹¤.

- í•´ë‹¹ ë§í¬ë“œë¦¬ìŠ¤íŠ¸ë¥¼ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•˜ê³ , í•´ë‹¹ ë…¸ë“œë¥¼ ë°˜í™˜í•˜ëŠ” ë¬¹ì œì´ë‹¤.


- ì¡°ê±´
  - The number of nodes in the list is in the range [0, 5 * 10<sup>4</sup>].
  - -10<sup>5</sup> <= Node.val <= 10<sup>5</sup>

---

### ğŸŸ¤ ë¬¸ì œ í’€ì´ ì „ëµ ì¶”ìƒí™” (Abstraction)

ë°©ë²• 1.
ë§í¬ë“œë¦¬ìŠ¤íŠ¸ëŠ” ë°°ì—´ì´ ì•„ë‹ˆë¼ í•˜ë‚˜ì˜ ë…¸ë“œê°€ ë‹¤ë¥¸ ë…¸ë“œë¡œ ì—°ê²°ë˜ì–´ ìˆëŠ” êµ¬ì¡°ì´ê¸° ë•Œë¬¸ì— ë‹¨ìˆœíˆ ë°°ì—´ì„ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•˜ëŠ” APIë¥¼ ì‚¬ìš©í•˜ì—¬ ì •ë ¬í•  ìˆ˜ ì—†ë‹¤. 
í•´ë‹¹ ë¬¸ì œë¥¼ ë‹¨ìˆœí•˜ê²Œ ì ‘ê·¼í•˜ë©´ ë§í¬ë“œë¦¬ìŠ¤íŠ¸ë¥¼ ìˆœí™˜í•˜ë©° ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ìˆ«ì ê°’ì„ ë°°ì—´ì— ëª¨ë‘ ì €ì¥í•œë‹¤. ìˆ«ìê°’ì´ ì €ì¥ëœ ë°°ì—´ì„ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•œë‹¤. ì´í›„ì— 
ì •ë ¬ëœ ë°°ì—´ì˜ ìˆ«ìë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‹¤ì‹œ ë§í¬ë“œë¦¬ìŠ¤íŠ¸ ë…¸ë“œë¥¼ ë§Œë“¤ì–´ í•´ë‹¹ head ë…¸ë“œë¥¼ ë°˜í™˜í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ë¬¸ì œë¥¼ í’€ì´í–ˆë‹¤.

> ğŸ¥• ì‹œê°„ë³µì¡ë„ëŠ” ë¨¼ì € ë§í¬ë“œë¦¬ìŠ¤íŠ¸ ë…¸ë“œë¥¼ ìˆœí™˜í•˜ë©° ë°°ì—´ì— ìˆ«ìê°’ì„ ì €ì¥í•˜ëŠ” ì½”ë“œë¡œ O(N)ì˜ ì‹œê°„ë³µì¡ë„ë¥¼ ê°€ì¡Œë‹¤. ë˜í•œ, ë°°ì—´ì„ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•˜ëŠ” APIëŠ” ë³´í†µ í€µì •ë ¬ì„ 
> ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— O(logN)ì˜ ì‹œê°„ë³µì¡ë„ë¥¼ ê°€ì§€ë©°, ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬ëœ ë°°ì—´ì„ ìˆœí™˜í•˜ë©° ë§í¬ë“œë¦¬ìŠ¤íŠ¸ ë…¸ë“œë¥¼ ë§Œë“¤ê¸° ë•Œë¬¸ì— O(N)ì˜ ì‹œê°„ë³µì¡ë„ë¥¼ ê°€ì§„ë‹¤. ì´ O(2N + logN) => O(N)ì˜ 
> ì‚¬ê°„ë³µì¡ë„ë¥¼ ê°€ì§„ë‹¤.
> 
> ğŸ¥• ê³µê°„ë³µì¡ë„ëŠ” ë¨¼ì € ë°°ì—´ì„ ì €ì¥í•˜ëŠ” ê³µê°„ O(N)ê³¼ ìƒˆë¡­ê²Œ ë…¸ë“œë¥¼ ë§Œë“œëŠ” ê³µê°„ O(N)ì˜ ê³µê°„ì´ í•„ìš”í•˜ì—¬ ì´ O(2N) => O(N)ì˜ ê³µê°„ë³µì¡ë„ê°€ í•„ìš”í•˜ë‹¤.

---

### ğŸŸ¤ ë¬¸ì œ í’€ì´ (Algorithm)

```java
class Solution {
    public ListNode sortList(ListNode head) {
        List<Integer> list = new ArrayList<>();

        while (head != null) {
            list.add(head.val);

            head = head.next;
        }

        List<Integer> answer = list.stream().sorted().collect(Collectors.toList());

        ListNode answerNode = new ListNode(0);
        ListNode newNode = answerNode;
        for (int i = 0; i < answer.size(); i++) {
            ListNode node = new ListNode(answer.get(i));
            newNode.next = node;
            newNode = node;
        }

        return answerNode.next;
    }
}
```

---

## ğŸŒ± í’€ì´ ê°œì„ 

í•´ë‹¹ ë¬¸ì œëŠ” ì¤‘ê°„ì— ë°°ì—´ë¡œ ê°’ì„ ì˜®ê²¨ì™€ ë‹¤ì‹œ ë§í¬ë“œë¦¬ìŠ¤íŠ¸ ë…¸ë“œë¡œ ì¬êµ¬ì„±í•´ì•¼í•˜ëŠ” ê³¼ì •ì´ í¬í•¨ë˜ì–´ ìˆë‹¤. ì´ ê³¼ì •ì´ ì œê±°ëœë‹¤ë©´ ë¹„ë¡ O(N)ì˜ ì‹œê°„ë³µì¡ë„ë¼ í•˜ë”ë¼ë„ 
ì‹œê°„ì , ê³µê°„ì ìœ¼ë¡œ ë” íš¨ìœ¨ì ìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤.

ë‹¤ì–‘í•œ ì •ë ¬ ë°©ë²• ì¤‘ì— Merge Sortë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤. Merge SortëŠ” í€µ ì •ë ¬ê³¼ ë¹„ìŠ·í•˜ê²Œ O(logN)ì˜ ì‹œê°„ë³µì¡ë„ë¥¼ ê°€ì§€ê³  ì •ë ¬í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì´ë‹¤. 
ë§í¬ë“œë¦¬ìŠ¤íŠ¸ëŠ” ì¸ë±ìŠ¤ë¡œ ì ‘ê·¼í•˜ì—¬ ì—°ê²°ë˜ì–´ ìˆëŠ” ê°’ë“¤ ì¤‘ ë°˜ì ˆ ê°’ì„ O(1)ë¡œ ì¡°íšŒí•  ìˆ˜ ì—†ë‹¤. ë•Œë¬¸ì— ë¹ ë¥´ê²Œ ë§í¬ë“œë¦¬ìŠ¤íŠ¸ì˜ ì¤‘ê°„ ì—°ê²°ê°’ì„ íŒŒì•…í•˜ëŠ”ê²Œ ì²«ë²ˆì§¸ ê´€ë¬¸ì´ë‹¤. 

slowì™€ fast 2ê°œì˜ ë…¸ë“œë¥¼ ë¨¼ì € ë§ˆë ¨í•˜ê³  slowëŠ” slow.nextë¡œ ì¬í• ë‹¹, fastëŠ” fast.next.nextë¡œ ì¬í• ë‹¹í•œë‹¤. slowëŠ” 1ì¹¸ì”©, fastëŠ” 2ì¹¸ì”© ë…¸ë“œë¥¼ ì´ë™í•˜ëŠ” ê²ƒì´ë‹¤. 
fastê°€ ë¨¼ì € ë…¸ë“œì˜ ëê°’ì´ nullì— ë„ë‹¬í•˜ë©´ slowëŠ” fastì˜ ì ˆë°˜ê¹Œì§€ ë„ë‹¬í–ˆì„ ê²ƒì´ë‹¤. ì´ê²ƒì„ í™œìš©í•˜ì—¬ O(1/2 N)ì˜ ì‹œê°„ë³µì¡ë„ë¡œ slow ë…¸ë“œë¥¼ í†µí•´ ë§í¬ë“œë¦¬ìŠ¤íŠ¸ì˜ ê°€ìš´ë° ë…¸ë“œë¥¼ 
íŒŒì•…í•  ìˆ˜ ìˆë‹¤.

ë°˜ì ˆë¡œ ë‚˜ëˆˆ ë§í¬ë“œë¦¬ìŠ¤íŠ¸ì˜ nextê°€ nullì´ ë˜ë„ë¡, ì¦‰, ë§í¬ë“œë¦¬ìŠ¤íŠ¸ì— ì—°ê²°ë˜ì–´ ìˆëŠ” ë…¸ë“œê°€ 1ê°œê°€ ë ë•Œê¹Œì§€ ì¬ê·€ë¥¼ í˜¸ì¶œí•˜ì—¬ ë¶„í• í•œë‹¤. ì¬ê·€ë¡œ í˜¸ì¶œí•˜ì—¬ ë…¸ë“œë¥¼ ì˜ê²Œ ë¶„í• í•˜ì—¬ ë‚˜ì˜¨ ê°’ì„ 
í•©ì³ ì •ë ¬í•˜ëŠ” ë°©ë²•ì´ë‹¤.

```java
class Solution {
    public ListNode sortList(ListNode head) {
        
        if (head == null || head.next == null) return head;

        ListNode prev = null;
        ListNode slow = head;
        ListNode fast = head;

        while (fast != null && fast.next != null) {
            prev = slow;
            slow = slow.next;
            fast = fast.next.next;
        }

        prev.next = null;

        ListNode left = sortList(head);
        ListNode right = sortList(slow);

        return merge(left, right);
    }

    public ListNode merge(ListNode left, ListNode right) {

        ListNode node = new ListNode(0);
        ListNode temp = node;

        while (left != null && right != null) {
            if (left.val < right.val) {
                temp.next = left;
                left = left.next;
            } else {
                temp.next = right;
                right = right.next;
            }

            temp = temp.next;
        }

        if (left != null) temp.next = left;

        if (right != null) temp.next = right;

        return node.next;
    }
}
```

> ğŸ¥• í•´ë‹¹ ë°©ë²•ìœ¼ë¡œ ê°œì„ í•  ì‹œ ì‹œê°„ë³µì¡ë„ëŠ” sortListì—ì„œ O(1/2 * N)ë§Œí¼ì˜ ì‹œê°„ë³µì¡ë„, mergeê°€ ë¶ˆë ¤ì§€ëŠ” íšŸìˆ˜ì¸ LogNì—ì„œ mergeì—ì„œ Në§Œí¼ ì‹œê°„ë³µì¡ë„ë¥¼ ê°€ì§€ê¸° ë•Œë¬¸ì— NlogNì˜ ì‹œê°„ë³µì¡ë„ë¥¼ ê°€ì§„ë‹¤. 
> ì´ ìƒìˆ˜ê¹Œì§€ ë”í•´ O(N/2 + NlogN)ì˜ ì‹œê°„ë³µì¡ë„ì´ì§€ë§Œ ìƒìˆ˜ë¥¼ ì œê±°í•˜ì—¬ O(NlogN)ì˜ ì‹œê°„ë³µì¡ë„ë¥¼ ê°€ì§„ë‹¤.
> 
> ğŸ¥• ê³µê°„ë³µì¡ë„ëŠ” í•´ë‹¹ ë…¸ë“œë¡œ ìˆ˜í–‰ë˜ê¸° ë•Œë¬¸ì— ì¶”ê°€ì ì¸ ë…¸ë“œë¥¼ ì €ì¥í•˜ëŠ” ê³µê°„ì€ í•„ìš”ì—†ì§€ë§Œ logNë§Œí¼ì˜ stackì´ ìŒ“ì´ê¸° ë•Œë¬¸ì— ì´ì— ëŒ€í•œ ê³µê°„ë³µì¡ë„ O(logN)ì´ í•„ìš”í•˜ë‹¤.
