---
layout: post
title: "[LeetCode] 122. Best Time to Buy and Sell Stock II"
subtitle: "algorithm"
categories: devlog
tags: algorithm array string
---

> LeetCode Top Interview 150ì˜ 122ë²ˆ ë¬¸ì œì…ë‹ˆë‹¤.

<!--more-->

ğŸ“š ëª©ì°¨
- [ğŸŒ± Best Time to Buy and Sell Stock II](#-best-time-to-buy-and-sell-stock-ii)
  - [ğŸŸ¤ ë¬¸ì œ ì •ì˜ - Definition](#-ë¬¸ì œ-ìš”ì•½-definition)
  - [ğŸŸ¤ ë¬¸ì œ í’€ì´ ì „ëµ ì¶”ìƒí™” - Abstraction](#-ë¬¸ì œ-í’€ì´-ì „ëµ-ì¶”ìƒí™”-abstraction)
  - [ğŸŸ¤ ë¬¸ì œ í’€ì´ - Algorithm](#-ë¬¸ì œ-í’€ì´-algorithm)

- [ğŸŒ± í’€ì´ ê°œì„ ](#-í’€ì´-ê°œì„ )

----

## ğŸŒ± [Best Time to Buy and Sell Stock II](https://leetcode.com/problems/best-time-to-buy-and-sell-stock-ii/description/?envType=study-plan-v2&envId=top-interview-150)

### ğŸŸ¤ ë¬¸ì œ ì •ì˜ (Definition)

- íŒŒë¼ë¯¸í„°ë¡œ 1ì°¨ì› ë°°ì—´ (prices)ê°€ ì£¼ì–´ì§„ë‹¤.
- prices ë°°ì—´ì€ ê° indexê°€ ë‚ ì§œì´ê³  ê·¸ ë‚ ì§œ indexì— ëŒ€í•œ ê°’ì€ í•´ë‹¹ ë‚ ì§œì˜ íŠ¹ì • ì£¼ì‹ì— ëŒ€í•œ ê°€ê²©ì„ ì˜ë¯¸í•œë‹¤.

- ìµœëŒ€ 1ê°œì˜ ì£¼ì‹ì„ ë³´ìœ í•  ìˆ˜ ìˆìœ¼ë©°, ì–¸ì œë“ ì§€ ë§¤ì…ê³¼ ë§¤ë„ë¥¼ í•  ìˆ˜ ìˆë‹¤.
- ë§¤ì…ê³¼ ë§¤ë„ë¥¼ ì ì ˆí•˜ê²Œ í•˜ì—¬ ì£¼ì–´ì§„ ë‚ ì§œ(prices.length)ì•ˆì—ì„œ ìµœëŒ€í•œ ë§ì€ ì´ìµì„ ë‚´ì•¼í•œë‹¤.


- ì¡°ê±´
  - 1 <= prices.length <= 3 * 10<sup>4</sup>
  - 0 <= prices[i] <= 10<sup>4</sup>

---

### ğŸŸ¤ ë¬¸ì œ í’€ì´ ì „ëµ ì¶”ìƒí™” (Abstraction)

ë°©ë²• 1. ë‹¤ì´ë‚˜ë¯¹ í”„ë¡œê·¸ë˜ë°ì˜ DP í…Œì´ë¸”ì„ í™œìš©í•œ ë°©ë²•

ë¬¸ì œì—ì„œ ìš”êµ¬í•˜ëŠ” ê²ƒì€ ì–¸ì œë“ ì§€ ë§¤ë„, ë§¤ì…í•  ìˆ˜ ìˆëŠ” ë‹¨ í•œê°œì˜ ì£¼ì‹ì„ ì£¼ì–´ì§„ ë‚ ì§œ(nums ë°°ì—´)ì™€ ë‚ ì§œ í•´ë‹¹í•˜ëŠ” ê°€ê²©ì„ ì°¸ê³ í•˜ì—¬ 
ìµœëŒ€ ì´ìµì„ ë°˜í™˜í•˜ëŠ” ê²ƒì´ë‹¤.

ë¨¼ì € ì£¼ì–´ì§„ prices ë°°ì—´ì„ ìˆœí™˜í•œë‹¤. ë°°ì—´ì„ ìˆœí™˜í•˜ë©´ì„œ í˜„ì¬ ë‚ ì§œ(index)ì— ë§¤ì…ì„ í•˜ë©´ ì´í›„ì˜ ë‚ ì§œì—ì„œ ë§¤ë„í•˜ê²Œ ë˜ë©´ ì–¼ë§Œí¼ì˜ ì´ìµì´ ë°œìƒí•˜ëŠ”ì§€ 
ë¨¼ì € dp í…Œì´ë¸”ì— ìºì‹±í•œë‹¤. ë§Œì¼ ìˆ˜ìµì´ ë§ˆì´ë„ˆìŠ¤(ì˜¤ëŠ˜ 7ì›ì¸ë° ë‚´ì¼ 3ì›ìœ¼ë¡œ í•˜ë½í•´ì„œ ìˆ˜ìµì´ ë§ˆì´ë„ˆìŠ¤ê°€ ë˜ëŠ” ê²½ìš°)ë¼ë©´ ì–´ì œê¹Œì§€ ë°œìƒëœ ìˆ˜ìµì„ 
ë„˜ê²¨ë°›ëŠ”ë‹¤. (ì´í›„ì˜ ë‚ ì§œì— ë§¤ì… ë° ë§¤ë„ë¥¼ í•˜ì§€ ì•Šê²Œ ë˜ë©´ ê·¸ ì „ë‚ ê¹Œì§€ ìˆì—ˆë˜ ì´ìµì´ ê³„ì† ì´ì–´ì§€ê¸° ë•Œë¬¸!)

ë˜í•œ dp í…Œì´ë¸”ì— ìˆ˜ìµì„ ìºì‹±í•  ë•Œ ì´ë¯¸ ìˆ˜ìµì´ ì¡í˜€ìˆëŠ” ë¶€ë¶„ì´ ìˆì„ ê²ƒì´ë‹¤. íŠ¹ì • ì‹œê¸°ì— ë§¤ì…í•´ì„œ ê·¸ë‚  ë§¤ë„í•˜ê³  ë‚œ ì´ìµì´ë‹¤. ì´ ê¸ˆì•¡ê³¼ 
í˜„ì¬ ë¹„êµí•˜ê³  ìˆëŠ” ë‚ ì§œì™€ íŠ¹ì • ë‚ ì§œì™€ì˜ ìˆ˜ìµì˜ í•©ì„ ë¹„êµí•˜ì—¬ ë” í° ê°’ìœ¼ë¡œ ê°±ì‹ í•œë‹¤.

ì •ë¦¬í•´ë³´ìë©´, ë§¤ì…í•˜ëŠ” í˜„ì¬ ë‚ ì§œ (index a)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë§¤ë„í•  a ì´í›„ì˜ ë‚ ì§œì™€ ë¹„êµí•˜ë©´ 2ê°€ì§€ì˜ ì„ íƒì´ ìˆë‹¤.

- a ì´í›„ì˜ ë‚ ì§œì™€ ë¹„êµí•  ë•Œ ìˆ˜ìµì´ ë°œìƒí•˜ê²Œ ë˜ë©´ ê·¸ ì „ë‚ ì— ë°œìƒí•œ ìˆ˜ìµê³¼ ë§¤ì…í•œ a ë‚ ì§œ(í˜„ì¬)ì™€ ë§¤ë„í•œ ë‚ ì§œì˜ ìˆ˜ìµì„ ë¹„êµí•˜ì—¬ ë” í° ê°’ì„ ìºì‹±í•œë‹¤.
- ë§Œì•½ ìˆ˜ìµì´ ë§ˆì´ë„ˆìŠ¤ë¼ë©´ ì „ë‚ ì— ë°œìƒí•œ ìˆ˜ìµê³¼ í˜„ì¬ ìºì‹±ë˜ì–´ ìˆëŠ” ìˆ˜ìµì„ ë¹„êµí•˜ì—¬ ë” í° ê°’ìœ¼ë¡œ ê°±ì‹ í•œë‹¤.

ìœ„ì˜ ì„ íƒì„ prices ë°°ì—´ì„ ìˆœí™˜í•˜ë©´ì„œ ì²˜ë¦¬í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ êµ¬í˜„í•˜ì˜€ë‹¤.

> ğŸ¥• ì‹œê°„ë³µì¡ë„ëŠ” pricesì˜ ë°°ì—´ì„ ëª¨ë‘ ìˆœí™˜í•´ì•¼í•˜ê¸° ë•Œë¬¸ì— O(N)ì´ ê¸°ë³¸ìœ¼ë¡œ ë°œìƒí•˜ê³ , ë°˜ë³µë¬¸ ë‚´ì— ë‹¤ì‹œ í˜„ì¬ ë‚ ì§œ ì´í›„ì˜ ëª¨ë“  ë‚ ì§œì™€ 
> ë§¤ë„ê°’ì„ ì¡°íšŒí•˜ì—¬ dp í…Œì´ë¸”ì„ ê°±ì‹ í•˜ê¸° ìœ„í•´ O(N)ì˜ ì‹œê°„ë³µì¡ë„ê°€ í•„ìš”í•˜ë‹¤. ê·¸ë˜ì„œ ì´ O(N<sup>2</sup>)ì˜ ì‹œê°„ë³µì¡ë„ê°€ ë°œìƒí•œë‹¤.
> 
> ğŸ¥• ê³µê°„ë³µì¡ë„ëŠ” ê°€ê²©ì„ ê°±ì‹ ì‹œí‚¬ dp í…Œì´ë¸” ë°°ì—´ì´ í•˜ë‚˜ ì¶”ê°€ë˜ì–´ O(N)ì˜ ê³µê°„ë³µì¡ë„ë¥¼ ê°€ì§„ë‹¤.

---

### ğŸŸ¤ ë¬¸ì œ í’€ì´ (Algorithm)

```java
class Solution {
    public int maxProfit(int[] prices) {
        
		int[] amount = new int[prices.length];

		for (int i = 0; i < prices.length; i++) {
			int curPrice = prices[i];

			for (int k = i + 1; k < prices.length; k++) {
				int nextPrice = prices[k];

				int revenue = nextPrice - curPrice;

				if (revenue > 0) {
					amount[k] = Math.max(amount[k], amount[i] + revenue);
				} else {
					amount[k] = Math.max(amount[k - 1], amount[k]);
				}
			}
		}

        return amount[prices.length - 1];
    }
}
```

---

## ğŸŒ± í’€ì´ ê°œì„ 

ë” ê°„ë‹¨í•œ í’€ì´ ë°©ë²•ì´ ì¡´ì¬í•œë‹¤. í•´ë‹¹ ë°©ë²•ì€ ì¡°ê¸ˆë§Œ ë” ê³ ë¯¼í•´ë³´ê³  ë…¼ë¦¬ì ì¸ ì‚¬ê³ ë¥¼ í†µí•´ êµ¬í˜„í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ë¼ê³  ìƒê°í•œë‹¤.

```java
class Solution {
    public int maxProfit(int[] prices) {

        int result = 0;

        for (int i = 1; i < prices.length; i++) {
            if (prices[i] - prices[i - 1] > 0) {
                result += prices[i] - prices[i - 1];
            }
        }

        return result;
    }
}
```

ì½”ë“œë§Œ ë³´ë”ë¼ë„ ì˜ë„ê°€ ë³´ì¸ë‹¤. ì–´ì œ ë§¤ì…í•œ ì£¼ì‹ì´ ì˜¤ëŠ˜ ì˜¬ëìœ¼ë©´ ë°”ë¡œ ë§¤ë„í•˜ëŠ” ê²ƒì´ë‹¤. ë˜í•œ, ë‚´ì¼ ë§¤ë„ê°€ê°€ ì˜¤ëŠ˜ ë§¤ì…ê°€ë³´ë‹¤ ë¹„ì‹¸ë‹¤ë©´ 
ì˜¤ëŠ˜ ë‹¤ì‹œ ë§¤ì…í•˜ê³  ë‚´ì¼ ë‹¤ì‹œ ë§¤ë„í•˜ëŠ” ë°©ë²•ì´ë‹¤. ì´ ë°©ë²•ì´ ì–´ë–»ê²Œ ë¬¸ì œ í’€ì´ì— ì ìš©ë  ìˆ˜ ìˆì„ê¹Œ ê³ ë¯¼í•´ë³´ì•˜ë‹¤.

ìƒê°ë³´ë‹¤ ë‹¨ìˆœí–ˆë‹¤. ì˜¤ëŠ˜ì´ ìµœì € ë§¤ì…ê°€ì´ê³  ë‚´ì¼ì´ ìµœê³  ë§¤ë„ê°€ë¼ë©´ ë‹¹ì—°íˆ ìµœëŒ€ ìˆ˜ìµì€ ë‚´ì¼ ê°€ê²© - ì˜¤ëŠ˜ ê°€ê²©ì´ ëœë‹¤. ì´ ë°©ë²•ìœ¼ë¡œë§Œ ìƒê°í•˜ë©´ ë‚´ì¼ì´ ìµœê³  ë§¤ë„ê°€ì´ë“ , 
ë‚´ì¼ ëª¨ë˜ê°€ ìµœê³  ë§¤ë„ê°€ì´ë“  ìµœëŒ€ ìˆ˜ìµì€ ë™ì¼í•˜ë‹¤. í•˜ì§€ë§Œ, ë§¤ì…, ë§¤ë„ë¥¼ ì—¬ëŸ¬ë²ˆ í•  ìˆ˜ ìˆë‹¤ë©´? ì˜¤ëŠ˜ ë§¤ì…í•˜ê³  ë‚´ì¼ ê°€ê²©ì´ 4ê°€ ì˜¬ë¼ íŒ”ë©´ ìˆ˜ìµì€ 4ê°€ëœë‹¤. ê·¸ëŸ°ë° 
ë‚´ì¼ ëª¨ë˜ ê°€ê²©ì´ ë‹¤ì‹œ 2ë¡œ í•˜ë½í•˜ê³  ê·¸ ë‹¤ìŒë‚  ë‹¤ì‹œ ë§¤ë„ê°€ê°€ 4ë¡œ ì˜¬ëë‹¤ë©´? ë‚´ì¼ ëª¨ë˜ ë‹¤ì‹œ ë§¤ì…í•˜ê³  ê·¸ ë‹¤ìŒë‚  ë§¤ë„í•˜ì—¬ 2ë¼ëŠ” ìˆ˜ìµì„ ì¶”ê°€ë¡œ ë‚¼ ìˆ˜ ìˆë‹¤. 

í•µì‹¬ì€ ì¡°ê·¸ë§Œ ì´ìµì´ ìƒê¸°ë©´ ë°”ë¡œ ë§¤ë„í•˜ê³  ê¸°ì¡´ë³´ë‹¤ ê°€ê²©ì´ í•˜ë½í•˜ëŠ” ë‚ ì— ë‹¤ì‹œ ë§¤ì…í•˜ì—¬ ë‹¤ì‹œ ë§¤ë„í•œë‹¤ë©´ ì ì–´ë„ ìµœì†Œ ë§¤ì…ê°€ì™€ ìµœëŒ€ ë§¤ë„ê°€ì˜ ì°¨ì´ë§Œí¼ì€ í™•ì •ì ìœ¼ë¡œ 
ìˆ˜ìµì„ ë‚¼ ìˆ˜ ìˆë‹¤.

> ğŸ¥• ì´ í’€ì´ì˜ ì‹œê°„ë³µì¡ë„ëŠ” O(N)ì´ë©°, ê³µê°„ë³µì¡ë„ëŠ” O(1)ì´ë‹¤.
